<!DOCTYPE html>
<html lang="es">
  <head>
     <!-- Configuración y datos de interés para el navegador web -->
     <title> Ehercicio HTML5/CSS3 con OpenLayers </title>
     <meta name="author" content="Jorge Viloria" />
     <meta name="description" content="Curso Geodatos en Aplicaciones Web" />
     <meta charset="utf-8" />
     <!-- Carga los archivos externos de estilo y la libreria de funciones js -->	 
     <script src="../js/ol.js"></script>
     <link rel="stylesheet" href="../css/ol.css">
     <link rel="stylesheet" href="../css/estilo.css"> 
  </head>
  <body>
     <img id="logo"src="../imagenes/geoinnova.jpg" alt="logo">
	 <h1>Tema 2: Estándares de Geodatos</h1>
     <h2>Aprendiendo HTML5 / CSS3 con OpenLayers </h2>
	 
	 <!-- Datos personales del estudiante -->
	 <div id="datos">
         <p> <h2>Datos Personales</h2></p>
	     <p>Nombre: Jorge</p>
	     <p>Apellido: Viloria</p>
	     <p>Profesión: Msc en SIG</p>
	     <p>Edad: 50 años</p>
	     <p>Dirección: Ciudad Ojeda  Venezuela</p>
	     <p>Ubicación Geográfica:</p>
	     <p>Latitud: <strong>10.211966</strong> </p>
	     <p>Longitud: <strong>-71.313521</strong></p>
         <img id="FotoCarnet"src="../imagenes/carnet.jpg" alt="Foto">
         <a href="../index.html">Menú Principal</a>
      </div>
	  <!-- Desplegar las dos ventanas de los mapas -->
      <div id="map"></div>
      <div id="pano"></div>

      <script>
	  	 <!-- Variables de objetos del mapa -->
	     var mbase = new ol.layer.Tile({source: new ol.source.OSM()});
		 var iconFeature = new ol.Feature({
             geometry: new ol.geom.Point(ol.proj.transform([-71.313521,10.211966], 'EPSG:4326', 'EPSG:3857')),
             name: 'Null Island',
             population: 4000,
             rainfall: 500
            });
        var iconStyle = new ol.style.Style({
             image: new ol.style.Icon(/** @type {olx.style.IconOptions} */ ({
             anchor: [0.5, 46],
             anchorXUnits: 'fraction',
             anchorYUnits: 'pixels',
             opacity: 0.75,
             src: '../imagenes/marker-icon.png'
             }))
        });
		iconFeature.setStyle(iconStyle);
        var vectorSource = new ol.source.Vector({
             features: [iconFeature]
        });
        var vectorLayer = new ol.layer.Vector({
             source: vectorSource
        });

        /* Dibuja un círculo rojo */
            var features = [];
            var circle = new ol.geom.Circle(ol.proj.transform([-71.313521,10.211966], 'EPSG:4326', 'EPSG:3857'), 100);
            features.push(new ol.Feature({geometry: circle}));
            var vectorSource = new ol.source.Vector({features: features});
            var layer = new ol.layer.Vector({
                     source: vectorSource,
                     style: [
                     new ol.style.Style({
                     stroke: new ol.style.Stroke({
                     color: 'red',
                     width: 2
                    }),
                    fill: new ol.style.Fill({
                         color: 'rgba(255, 0, 0, 0.25)'
                    })
                })]
            });

	  	<!-- Crea el mapa general -->
            var mapag = new ol.Map({ 
                     layers: [mbase, vectorLayer], 
                     target: 'map', 
                     view: new ol.View({ 
		             center: ol.proj.transform([-71.313521,10.211966], 'EPSG:4326', 'EPSG:3857'), 
                     zoom: 12}) 
            });
	
	  	<!-- Crea el mapa de detalles -->
		    var mapad = new ol.Map({ 
                     layers: [mbase, vectorLayer, layer], 
                     target: 'pano', 
                     view: new ol.View({ 
                     center: ol.proj.transform([-71.313521,10.211966], 'EPSG:4326', 'EPSG:3857'), 
                     zoom: 18}) 
            });
			var popup = new ol.Overlay.Popup();
            map.addOverlay(popup);

        </script>
    </body>
</html>
